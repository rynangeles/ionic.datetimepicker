"use strict";!function(){function a(a,b){function c(c,e,f,g){function h(a,b){w.years=[];for(var c=a+b<a?a+b:a,d=a+b>a?a+b:a,e=c;e<=d;e++)w.years.push(e)}function i(a){c.template=a}function j(a){w.base=b(w.base).add(a,"month").startOf("month"),s(w.base)}function k(a){w.selected=a,w.base=a}function l(a){w.selected=w.selected.month(a),w.base=w.selected,s(w.base),i("date")}function m(a){w.selected=w.selected.year(a),w.base=w.selected,s(w.base),i("month")}function n(a){w.selected.hours(a),i("time")}function o(a){w.selected.minutes(a),i("time")}function p(a){w.selected.hours(w.selected.hours()+("am"===a?12:-12))}function q(d){d.preventDefault(),w.selected=b(g.$viewValue),w.base=w.selected,s(w.base),i(u),h(w.selected.year(),11),a.confirm({title:"",cssClass:"date-time-picker",templateUrl:"ionic-date-time-picker/template/picker.html",scope:c,buttons:[{text:"Cancel",type:"button-default"},{text:"OK",type:"button-positive",onTap:function(){r(w.selected.toDate())}}]}).then(function(a){})}function r(a){g.$setViewValue(a||b().toDate()),g.$render()}function s(a){var c=b(a).startOf("month").startOf("week").startOf("day"),d=b(a).endOf("month").endOf("week").endOf("day"),e=b.range(c,d);w.month=b(a).month(),w.monthly=e.toArray("weeks").map(function(a){return b.range(a,b(a).endOf("week")).toArray("days")})}var t=["date","time"],u=f.mode?f.mode:"date",v=b(),w={};c.days=b.weekdaysShort,c.months=b.monthsShort(),c.calendar=w,c.templates=d,c.today=v,c.changeMonth=j,c.changeTemplate=i,c.changeYearSet=h,c.selectTimeByMeridiem=p,c.selectDate=k,c.selectMonth=l,c.selectYear=m,c.selectHours=n,c.selectMinutes=o,t.indexOf(u)<0&&(console.warn("Use `date` or `time` as mode attribute for `date-time-picker` directive. Setting mode to `date`"),u="date"),g&&"undefined"==typeof g.$viewValue&&r(),e.on("click",q)}var d={year:"ionic-date-time-picker/template/year.html",month:"ionic-date-time-picker/template/month.html",date:"ionic-date-time-picker/template/date.html",time:"ionic-date-time-picker/template/time.html",hours:"ionic-date-time-picker/template/hours.html",minutes:"ionic-date-time-picker/template/minutes.html"};return{restrict:"EA",link:c,require:"?ngModel",scope:{}}}function b(a){a.put("ionic-date-time-picker/template/picker.html",'<div ng-include="templates[template]" ng-class="template"></div>'),a.put("ionic-date-time-picker/template/date.html",'<div class="controls-container"><button class="button-prev icon ion-chevron-left" ng-click="changeMonth(-1)"></button><button class="button-header" ng-click="changeTemplate(\'month\')">{{calendar.base | amDateFormat: \'MMMM YYYY\'}}</button><button class="button-next icon ion-chevron-right" ng-click="changeMonth(1)"></button></div><div class="week-days-container"><ul class="week-days"><li class="name" ng-repeat="name in days()">{{::name}}</li></ul></div><div class="month-container"><ul class="week" ng-repeat="weekly in calendar.monthly"><li class="day" ng-class="{today: daily.isSame(today, \'day\'), selected: daily.isSame(calendar.selected, \'day\')}" ng-repeat="daily in weekly"><button ng-click="selectDate(daily)" ng-disabled="daily.month() !== calendar.month">{{daily | amDateFormat: \'DD\'}}</button></li></ul></div>'),a.put("ionic-date-time-picker/template/month.html",'<div class="controls-container"><button class="button-header" ng-click="changeTemplate(\'year\')">{{calendar.base | amDateFormat: \'YYYY\'}}</button></div><div class="month-names-container"><ul class="month-names"><li class="name" ng-repeat="name in months"><button class="button button-small" ng-class="$index === calendar.month ? \'button-positive\' : \'button-stable\'" ng-click="selectMonth($index)">{{name}}</button></li></ul></div>'),a.put("ionic-date-time-picker/template/year.html",'<div class="controls-container"><button class="button-prev icon ion-chevron-left" ng-click="changeYearSet((calendar.years[0] - 1), -11)"></button><button class="button-header">{{calendar.years[0] + \' - \' + calendar.years[11]}}</button><button class="button-next icon ion-chevron-right" ng-click="changeYearSet((calendar.years[11] + 1), 11)"></button></div><div class="years-container"><ul class="years"><li class="year" ng-repeat="year in calendar.years"><button class="button button-small" ng-class="calendar.selected.year() === year ? \'button-positive\' : \'button-stable\'" ng-click="selectYear(year)">{{year}}</button></li></ul></div>'),a.put("ionic-date-time-picker/template/time.html",'<div class="time-container"><div class="box hours"><button class="button-up icon ion-chevron-up" ng-click="selectHours(calendar.selected.hours() + 1)"></button><button class="button button-stable" ng-click="changeTemplate(\'hours\')">{{calendar.selected | amDateFormat : \'hh\'}}</button><button class="button-down icon ion-chevron-down" ng-click="selectHours(calendar.selected.hours() - 1)"></button></div><div class="box separator">:</div><div class="box minutes"><button class="button-up icon ion-chevron-up" ng-click="selectMinutes(calendar.selected.minutes() + 1)"></button><button class="button button-stable" ng-click="changeTemplate(\'minutes\')">{{calendar.selected | amDateFormat : \'mm\'}}</button><button class="button-down icon ion-chevron-down" ng-click="selectMinutes(calendar.selected.minutes() - 1)"></button></div><div class="box meridiem"><button class="button button-stable" ng-click="selectTimeByMeridiem(calendar.selected.format(\'a\'))">{{calendar.selected | amDateFormat : \'a\'}}</button></div></div>'),a.put("ionic-date-time-picker/template/hours.html",'<div class="hours-container"><ul class="hours"><li class="name" ng-repeat="hour in [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12]">'+"<button class=\"button button-small\" ng-class=\"(('0' + hour).slice(-2) === calendar.selected.format('hh')) ? 'button-positive' : 'button-stable'\" ng-click=\"selectHours(hour)\">{{('0' + hour).slice(-2)}}</button></li></ul></div>"),a.put("ionic-date-time-picker/template/minutes.html",'<div class="minutes-container"><ul class="minutes"><li class="name" ng-repeat="minute in [0, 5, 10, 15, 20, 25, 30, 35, 40, 45, 50, 55]">'+"<button class=\"button button-small\" ng-class=\"(('0' + minute).slice(-2) === calendar.selected.format('mm')) ? 'button-positive' : 'button-stable'\" ng-click=\"selectMinutes(minute)\">{{('0' + minute).slice(-2)}}</button></li></ul></div>")}b.$inject=["$templateCache"],a.$inject=["$ionicPopup","moment"],angular.module("ion.datetime-picker.directive",[]).run(b).directive("ionDateTimePicker",a)}(),function(){angular.module("ion.datetime-picker",["ionic","ion.datetime-picker.directive"])}();